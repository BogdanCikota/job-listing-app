(this["webpackJsonpjob-listing-app"]=this["webpackJsonpjob-listing-app"]||[]).push([[0],{35:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(28),a=n.n(s),r=(n(35),n(12)),o=n.n(r),i=n(15),l=n(3),b=n(16),j=n.n(b),u=n(9),d=n(0);var x=function(e){var t=e.job,n=e.index;return Object(d.jsxs)("div",{className:n%2!==0?"bg-gray-100 p-3":"bg-gray-50 p-3",children:[Object(d.jsxs)("h3",{className:"text-blue-900 font-semibold",children:["Company: ",Object(d.jsx)("span",{className:"font-bold",children:t.company_name})," "]}),Object(d.jsxs)("p",{className:"text-blue-900 font-semibold",children:["Category: ",Object(d.jsx)("span",{className:"font-normal",children:t.category})," "]}),Object(d.jsxs)("div",{className:"text-blue-900 font-semibold",children:["Required location: ",""===t.candidate_required_location?Object(d.jsx)("span",{children:"/"}):Object(d.jsx)("span",{className:"font-normal",children:t.candidate_required_location})," "]}),Object(d.jsxs)("div",{className:"text-blue-900 font-semibold",children:["Job Type: ",t.job_type?Object(d.jsx)("span",{className:"font-normal",children:t.job_type}):Object(d.jsx)("span",{children:"/"})," "]}),Object(d.jsxs)("div",{className:"text-blue-900 font-semibold",children:["Published: ",Object(d.jsx)("span",{className:"font-normal",children:t.publication_date})," "]}),Object(d.jsx)(u.b,{to:{pathname:"/JobDescription",state:{description:t.description}},children:"Read more..."})]})},m=n(30),h=n.n(m);var p=function(e){var t=e.chunk,n=e.setPageNum,c=e.setfromIndex,s=e.settoIndex;return Object(d.jsx)("div",{className:"p-2 grid grid-cols-8 gap-2 col-span-full",children:t.map((function(e,t){return Object(d.jsx)("button",{className:"rounded-lg px-1  bg-blue-400 text-white",onClick:function(){n(e+1),c(10*e-1),s(10*e+10)},children:e+1},t)}))})};var O=function(e){var t=e.jobs,n=e.fromIndex,s=e.setPageNum,a=e.setfromIndex,r=e.settoIndex,o=e.toIndex,i=e.pagesCounter,b=e.chunkedPages,j=Object(c.useState)(!1),u=Object(l.a)(j,2),x=u[0],m=u[1],h=Object(c.useState)(!1),O=Object(l.a)(h,2),g=O[0],f=O[1],N=Object(c.useState)(!1),v=Object(l.a)(N,2),k=v[0],S=v[1];return Object(d.jsxs)("div",{className:"grid gap-2",children:[Object(d.jsxs)("div",{className:"grid grid-cols-2",children:[-1===n?Object(d.jsx)("button",{className:"ml-2 rounded-lg px-1  bg-blue-500 text-white",disabled:!0,children:"prev 10"}):Object(d.jsx)("button",{className:"ml-2 rounded-lg px-1  bg-blue-500 text-white",onClick:function(){s((function(){return document.querySelector(".pageNum").innerHTML-1})),a(n-10),r(o-10)},children:"prev 10"}),o>t.length-1?Object(d.jsx)("button",{className:"ml-2 rounded-lg px-1  bg-blue-500 text-white",disabled:!0,children:"next 10"}):Object(d.jsx)("button",{className:"ml-2 rounded-lg px-1  bg-blue-500 text-white",onClick:function(){s((function(){return+document.querySelector(".pageNum").innerHTML+1})),a(n+10),r(o+10)},children:"next 10"}),i<100&&b.map((function(e,t){return 0===t&&Object(d.jsx)(p,{chunk:e,setPageNum:s,setfromIndex:a,settoIndex:r},t)}))]}),i>100&&Object(d.jsxs)("div",{className:"grid grid-cols-3",children:[Object(d.jsx)("button",{className:"ml-2 rounded-lg px-1  bg-blue-500 text-white",onClick:function(){m((function(e){return!e})),f(!1),S(!1)},children:"1...100"}),i>100&&Object(d.jsx)("button",{className:"ml-2 rounded-lg px-1  bg-blue-500 text-white",onClick:function(){f((function(e){return!e})),m(!1)},children:"100...200"}),i>200&&Object(d.jsx)("button",{className:"ml-2 rounded-lg px-1  bg-blue-500 text-white",onClick:function(){S((function(e){return!e})),m(!1),f(!1)},children:"200..."})]}),Object(d.jsx)("hr",{}),x?b.map((function(e,t){return 0===t&&Object(d.jsx)(p,{chunk:e,setPageNum:s,setfromIndex:a,settoIndex:r},t)})):g?b.map((function(e,t){return 1===t&&Object(d.jsx)(p,{chunk:e,setPageNum:s,setfromIndex:a,settoIndex:r},t)})):k&&b.map((function(e,t){return 2===t&&Object(d.jsx)(p,{chunk:e,setPageNum:s,setfromIndex:a,settoIndex:r},t)}))]})};var g=function(e){var t=e.pages,n=e.jobs,s=e.pagesCounter,a=Object(c.useState)(-1),r=Object(l.a)(a,2),o=r[0],i=r[1],b=Object(c.useState)(10),j=Object(l.a)(b,2),u=j[0],m=j[1],p=Object(c.useState)([]),g=Object(l.a)(p,2),f=g[0],N=g[1],v=Object(c.useState)(1),k=Object(l.a)(v,2),S=k[0],y=k[1];return Object(c.useEffect)((function(){N(h()(t,100))}),[t]),Object(d.jsxs)("div",{className:"grid gap-2",children:[Object(d.jsxs)("div",{className:"text-center bg-blue-500 p-1 text-white",children:["Found ",Object(d.jsxs)("span",{children:[n.length," results"]})]}),Object(d.jsxs)("h2",{className:"font-bold text-center p-1 pl-3 rounded-full  px-3 bg-gray-100 inline-block text-blue-900",children:["Page ",Object(d.jsx)("span",{className:"pageNum",children:S})," "]}),Object(d.jsx)("div",{children:n.map((function(e,t){return t>o&&t<u&&Object(d.jsx)(x,{index:t,job:e},t)}))}),Object(d.jsx)("hr",{}),Object(d.jsx)(O,{fromIndex:o,setfromIndex:i,toIndex:u,settoIndex:m,chunkedPages:f,setChunkedPages:N,pageNum:S,setPageNum:y,jobs:n,pagesCounter:s})]})};var f=function(e){var t=e.categories,n=e.setLimit,c=e.setCategory,s=e.setSearch,a=e.inputSearch,r=e.setInputSearch,o=e.setIsLoading;return Object(d.jsxs)("div",{className:"grid gap-3",children:[Object(d.jsxs)("select",{className:"border p-1.5",onChange:function(e){c(e.target.value),o(!0)},children:[Object(d.jsx)("option",{children:"Choose a job category"}),t.map((function(e,t){return Object(d.jsx)("option",{value:e.slug,children:e.name},t)}))]}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s(a),o(!0)},className:"border p-2",children:[Object(d.jsx)("label",{className:"mb-2 block",htmlFor:"search",children:"Search job listing title and description"}),Object(d.jsx)("input",{className:"pl-2 border",type:"search",id:"search",onChange:function(e){r(e.target.value)}}),Object(d.jsx)("button",{className:"ml-2 rounded-lg px-1  bg-blue-500 text-white",type:"submit",children:"Go!"})]}),Object(d.jsxs)("div",{className:"border p-2 grid gap-1",children:[Object(d.jsx)("label",{htmlFor:"limit",children:"Limit the number of job listing result"}),Object(d.jsx)("input",{className:"border w-20",type:"number",id:"limit",min:"1",onChange:function(e){n(e.target.value),o(!0)}})," ",Object(d.jsx)("span",{children:"...will not work if all tree filters are selected, backend problem :("})]})]})};var N=function(e){var t=e.openFilters,n=e.setOpenFilters;return Object(d.jsxs)("header",{className:"flex bg-blue-400 p-3 pb-5",children:[Object(d.jsx)("h1",{className:" text-white text-2xl text-center",children:"Remote Jobs"}),Object(d.jsxs)("button",{className:"block  mt-2 bg-blue-500 text-white rounded-full  px-3 ml-auto",onClick:function(){return n((function(e){return!e}))},children:[" ",t?Object(d.jsx)("span",{children:"Hide"}):Object(d.jsx)("span",{children:"Show"})," filters"]})]})};var v=function(){return Object(d.jsxs)("footer",{className:"bg-blue-400 grid gap-2 text-white mt-2 text-center",children:[Object(d.jsxs)("p",{className:"py-2",children:["API Source: ",Object(d.jsx)("a",{href:"https://remotive.io/",rel:"noreferrer",target:"_blank",children:"https://remotive.io/api-documentation"})]}),Object(d.jsxs)("p",{className:"bg-blue-500 py-2",children:["Made by ",Object(d.jsx)("a",{className:"underline",href:"https://github.com/BogdanCikota",rel:"noreferrer",target:"_blank",children:"Bogdan"})," "]})]})},k=n(2);var S=function(){var e=Object(k.f)().state.description;return Object(d.jsxs)("div",{children:[Object(d.jsx)(u.b,{to:"",className:"underline text-blue-900 font-semibold",children:" \u2190 back"}),Object(d.jsx)("div",{className:"job-description",dangerouslySetInnerHTML:{__html:e}})]})};var y=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(!0),r=Object(l.a)(a,2),b=r[0],x=r[1],m=Object(c.useState)(0),h=Object(l.a)(m,2),p=h[0],O=h[1],y=Object(c.useState)([]),I=Object(l.a)(y,2),w=I[0],C=I[1],P=Object(c.useState)("all"),_=Object(l.a)(P,2),L=_[0],F=_[1],J=Object(c.useState)([]),q=Object(l.a)(J,2),H=q[0],M=q[1],T=Object(c.useState)(""),B=Object(l.a)(T,2),D=B[0],E=B[1],R=Object(c.useState)(""),A=Object(l.a)(R,2),G=A[0],z=A[1],K=Object(c.useState)(""),Q=Object(l.a)(K,2),U=Q[0],V=Q[1],W=Object(c.useState)(!1),X=Object(l.a)(W,2),Y=X[0],Z=X[1],$=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("https://remotive.io/api/remote-jobs/categories");case 3:t=e.sent,console.log(t.data.jobs),M(t.data.jobs),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){(function(){var e=Object(i.a)(o.a.mark((function e(){var t,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("https://remotive.io/api/remote-jobs?limit=".concat(L,"&category=").concat(D,"&search=").concat(U));case 3:for(t=e.sent,console.log(t.data.jobs),s(t.data.jobs),x(!1),n=[],c=0;c<t.data.jobs.length/10;c++)n.push(c);O(n.length),C(n),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}})()(),$()}),[L,D,U]),Object(d.jsxs)("div",{className:"max-w-sm m-auto",children:[Object(d.jsx)(N,{openFilters:Y,setOpenFilters:Z}),Y&&Object(d.jsx)(f,{setLimit:F,setCategory:E,setSearch:V,inputSearch:G,setIsLoading:x,setInputSearch:z,categories:H}),b?Object(d.jsx)("h2",{children:"Loading..."}):Object(d.jsx)(u.a,{basemname:"/".concat("/job-listing-app"),children:Object(d.jsxs)(k.c,{children:[Object(d.jsx)(k.a,{exact:!0,path:"",children:Object(d.jsx)(g,{jobs:n,pages:w,pagesCounter:p})}),Object(d.jsx)(k.a,{exact:!0,path:"/JobDescription",component:S})]})}),Object(d.jsx)("hr",{}),Object(d.jsx)(v,{})]})};a.a.render(Object(d.jsx)(y,{}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.b9b2e555.chunk.js.map