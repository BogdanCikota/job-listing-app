(this["webpackJsonpjob-listing-app"]=this["webpackJsonpjob-listing-app"]||[]).push([[0],{35:function(e,t,s){},61:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s(28),a=s.n(c),r=(s(35),s(12)),l=s.n(r),o=s(15),i=s(4),b=s(16),u=s.n(b),j=s(9),d=s(0);var x=function(e){var t=e.job,s=e.index;return Object(d.jsxs)("div",{className:s%2!==0?"bg-gray-100 p-3":"bg-gray-50 p-3",children:[Object(d.jsxs)("h3",{className:"text-blue-900 font-semibold",children:["Company: ",Object(d.jsx)("span",{className:"font-bold",children:t.company_name})," "]}),Object(d.jsxs)("p",{className:"text-blue-900 font-semibold",children:["Category: ",Object(d.jsx)("span",{className:"font-normal",children:t.category})," "]}),Object(d.jsxs)("div",{className:"text-blue-900 font-semibold",children:["Required location: ",""===t.candidate_required_location?Object(d.jsx)("span",{children:"/"}):Object(d.jsx)("span",{className:"font-normal",children:t.candidate_required_location})," "]}),Object(d.jsxs)("div",{className:"text-blue-900 font-semibold",children:["Job Type: ",t.job_type?Object(d.jsx)("span",{className:"font-normal",children:t.job_type}):Object(d.jsx)("span",{children:"/"})," "]}),Object(d.jsxs)("div",{className:"text-blue-900 font-semibold",children:["Published: ",Object(d.jsx)("span",{className:"font-normal",children:t.publication_date})," "]}),Object(d.jsx)(j.b,{onClick:function(){window.scroll(0,0)},className:"text-blue-900 font-semibold",to:{pathname:"/JobDescription",state:{description:t.description}},children:"Read more..."})]})},m=s(30),h=s.n(m);var p=function(e){var t=e.numOfResults,s=e.chunk,n=e.setPageNum,c=e.setfromIndex,a=e.settoIndex;return Object(d.jsx)("div",{className:"p-2 grid grid-cols-8 gap-2 col-span-full",children:s.map((function(e,s){return Object(d.jsx)("button",{className:"rounded-lg px-1  bg-blue-400 text-white",onClick:function(){n(e+1),c(e*t),a(e*t+t)},children:e+1},s)}))})};var O=function(e){var t=e.numOfResults,s=e.jobs,c=e.fromIndex,a=e.setPageNum,r=e.setfromIndex,l=e.settoIndex,o=e.toIndex,b=e.pagesCounter,u=e.chunkedPages,j=Object(n.useState)(!1),x=Object(i.a)(j,2),m=x[0],h=x[1],O=Object(n.useState)(!1),g=Object(i.a)(O,2),f=g[0],N=g[1],v=Object(n.useState)(!1),I=Object(i.a)(v,2),k=I[0],y=I[1],S=document.querySelector(".pageNum");return Object(d.jsxs)("div",{className:"grid gap-2",children:[Object(d.jsxs)("div",{className:"grid grid-cols-2",children:[-1===c?Object(d.jsx)("button",{className:"ml-2 rounded-lg px-1  bg-blue-500 text-white",disabled:!0,children:"prev"}):Object(d.jsx)("button",{className:"ml-2 rounded-lg px-1  bg-blue-500 text-white",onClick:function(){a((function(){return S.innerHTML-1})),r(c-t),l(o-t)},children:"prev"}),o>s.length-1?Object(d.jsx)("button",{className:"ml-2 rounded-lg px-1  bg-blue-500 text-white",disabled:!0,children:"next"}):Object(d.jsx)("button",{className:"ml-2 rounded-lg px-1  bg-blue-500 text-white",onClick:function(){a((function(){return+S.innerHTML+1})),r(c+t),l(o+t)},children:"next"}),b<=100&&u.map((function(e,s){return Object(d.jsx)(p,{chunk:e,setPageNum:a,setfromIndex:r,settoIndex:l,numOfResults:t},s)}))]}),b>100&&Object(d.jsxs)("div",{className:"grid grid-cols-3",children:[Object(d.jsx)("button",{className:"ml-2 rounded-lg px-1  bg-blue-500 text-white",onClick:function(){h((function(e){return!e})),N(!1),y(!1)},children:"1...100"}),b>100&&Object(d.jsx)("button",{className:"ml-2 rounded-lg px-1  bg-blue-500 text-white",onClick:function(){N((function(e){return!e})),h(!1)},children:"100...200"}),b>200&&Object(d.jsx)("button",{className:"ml-2 rounded-lg px-1  bg-blue-500 text-white",onClick:function(){y((function(e){return!e})),h(!1),N(!1)},children:"200..."})]}),Object(d.jsx)("hr",{}),m?u.map((function(e,s){return 0===s&&Object(d.jsx)(p,{chunk:e,setPageNum:a,setfromIndex:r,settoIndex:l,numOfResults:t},s)})):f?u.map((function(e,s){return 1===s&&Object(d.jsx)(p,{chunk:e,setPageNum:a,setfromIndex:r,settoIndex:l,numOfResults:t},s)})):k&&u.map((function(e,s){return 2===s&&Object(d.jsx)(p,{chunk:e,setPageNum:a,setfromIndex:r,settoIndex:l,numOfResults:t},s)}))]})};var g=function(e){var t=e.pages,s=e.jobs,c=e.pagesCounter,a=e.fromIndex,r=e.setfromIndex,l=e.toIndex,o=e.settoIndex,i=e.chunkedPages,b=e.setChunkedPages,u=e.pageNum,j=e.setPageNum,m=e.numOfResults;return Object(n.useEffect)((function(){b(h()(t,100))}),[t,b]),Object(d.jsxs)("div",{className:"grid gap-2",children:[Object(d.jsxs)("div",{className:"text-center bg-blue-500 p-1 text-white",children:["Found ",Object(d.jsxs)("span",{children:[s.length," results"]})]}),Object(d.jsxs)("h2",{className:"font-bold text-center p-1 pl-3 rounded-full  px-3 bg-gray-100 inline-block text-blue-900",children:["Page ",Object(d.jsx)("span",{className:"pageNum",children:u})," "]}),Object(d.jsx)("div",{children:s.map((function(e,t){return t>=a&&t<l&&Object(d.jsx)(x,{index:t,job:e},t)}))}),Object(d.jsx)("hr",{}),Object(d.jsx)(O,{fromIndex:a,setfromIndex:r,toIndex:l,settoIndex:o,chunkedPages:i,setChunkedPages:b,pageNum:u,setPageNum:j,jobs:s,pagesCounter:c,numOfResults:m})]})};var f=function(e){var t=e.numOfResults,s=e.setfromIndex,n=e.settoIndex,c=e.setPageNum,a=e.categories,r=e.setLimit,l=e.setCategory,o=e.setSearch,i=e.inputSearch,b=e.setInputSearch,u=e.setIsLoading,j=function(){s(0),n(t),c(1)};return Object(d.jsxs)("div",{className:"filters grid gap-3",children:[Object(d.jsxs)("select",{className:"border p-1.5",onChange:function(e){l(e.target.value),u(!0),j()},children:[Object(d.jsx)("option",{children:"Choose a job category"}),Object(d.jsx)("option",{children:"All jobs"}),a.map((function(e,t){return Object(d.jsx)("option",{value:e.slug,children:e.name},t)}))]}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),o(i),u(!0),j()},className:"border p-2",children:[Object(d.jsx)("label",{className:"mb-2 block",htmlFor:"search",children:"Search job listing title and description"}),Object(d.jsx)("input",{className:"pl-2 border",type:"search",id:"search",onChange:function(e){b(e.target.value)}}),Object(d.jsx)("button",{className:"ml-2 rounded-lg px-1  bg-blue-500 text-white",type:"submit",children:"Go!"})]}),Object(d.jsxs)("div",{className:"border p-2 grid gap-1",children:[Object(d.jsx)("label",{htmlFor:"limit",children:"Limit the number of job listing result"}),Object(d.jsx)("input",{className:"border w-20",type:"number",id:"limit",min:"1",onChange:function(e){r(e.target.value),u(!0),j()}})," ",Object(d.jsx)("span",{children:"...will not work if all tree filters are selected, backend problem :("})]})]})};var N=function(e){var t=e.openFilters,s=e.setOpenFilters,n=document.querySelector(".filters");return Object(d.jsxs)("header",{className:"flex bg-blue-400 p-3 pb-5",children:[Object(d.jsx)("h1",{className:" text-white text-2xl text-center",children:"Remote Jobs"}),Object(d.jsxs)("button",{className:"block  mt-2 bg-blue-500 text-white rounded-full  px-3 ml-auto",onClick:function(){s((function(e){return!e})),n.style=t?"display: none":"display: grid"},children:[" ",t?Object(d.jsx)("span",{children:"Hide"}):Object(d.jsx)("span",{children:"Show"})," filters"]})]})};var v=function(){return Object(d.jsxs)("footer",{className:"bg-blue-400 grid gap-2 text-white mt-2 text-center",children:[Object(d.jsxs)("p",{className:"py-2",children:["API Source: ",Object(d.jsx)("a",{href:"https://remotive.io/",rel:"noreferrer",target:"_blank",children:"https://remotive.io/api-documentation"})]}),Object(d.jsxs)("p",{className:"bg-blue-500 py-2",children:["Made by ",Object(d.jsx)("a",{className:"underline",href:"https://github.com/BogdanCikota",rel:"noreferrer",target:"_blank",children:"Bogdan"})," "]})]})},I=s(2);var k=function(){var e=Object(I.f)().state.description;return Object(d.jsxs)("div",{className:"bg-gray-50",children:[Object(d.jsx)(j.b,{to:"/",className:"underline text-blue-900 font-semibold",children:" \u2190 back"}),Object(d.jsx)("div",{className:"job-description p-2 text-blue-900 grid gap-2",dangerouslySetInnerHTML:{__html:e}}),Object(d.jsx)(j.b,{to:"/",className:"underline text-blue-900 font-semibold",children:" \u2190 back"})]})};var y=function(){return Object(d.jsxs)("div",{className:"grid gap-2",children:[Object(d.jsx)("h2",{className:"text-center bg-blue-500 p-1 text-white",children:"Loading..."}),Object(d.jsx)("div",{className:"rounded-full bg-gray-100 h-8",children:" "}),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"bg-gray-50 p-3 h-32"}),Object(d.jsx)("div",{className:"bg-gray-100 p-3 h-32"})]})]})};var S=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),s=t[0],c=t[1],a=Object(n.useState)(!0),r=Object(i.a)(a,2),b=r[0],x=r[1],m=Object(n.useState)(0),h=Object(i.a)(m,2),p=h[0],O=h[1],S=Object(n.useState)([]),w=Object(i.a)(S,2),C=w[0],P=w[1],R=Object(n.useState)("all"),_=Object(i.a)(R,2),L=_[0],F=_[1],J=Object(n.useState)([]),q=Object(i.a)(J,2),H=q[0],M=q[1],T=Object(n.useState)(""),B=Object(i.a)(T,2),D=B[0],E=B[1],A=Object(n.useState)(""),G=Object(i.a)(A,2),z=G[0],K=G[1],Q=Object(n.useState)(""),U=Object(i.a)(Q,2),V=U[0],W=U[1],X=Object(n.useState)(!1),Y=Object(i.a)(X,2),Z=Y[0],$=Y[1],ee=Object(n.useState)(0),te=Object(i.a)(ee,2),se=te[0],ne=te[1],ce=Object(n.useState)(5),ae=Object(i.a)(ce,2),re=ae[0],le=ae[1],oe=Object(n.useState)([]),ie=Object(i.a)(oe,2),be=ie[0],ue=ie[1],je=Object(n.useState)(1),de=Object(i.a)(je,2),xe=de[0],me=de[1],he=function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("https://remotive.io/api/remote-jobs/categories");case 3:t=e.sent,console.log(t.data.jobs),M(t.data.jobs),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){(function(){var e=Object(o.a)(l.a.mark((function e(){var t,s,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("https://remotive.io/api/remote-jobs?limit=".concat(L,"&category=").concat(D,"&search=").concat(V));case 3:for(t=e.sent,console.log(t.data.jobs),c(t.data.jobs),x(!1),s=[],n=0;n<t.data.jobs.length/5;n++)s.push(n);O(s.length),P(s),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}})()(),he()}),[L,D,V]),Object(d.jsx)(j.a,{basemname:"/",children:Object(d.jsxs)("div",{className:"max-w-sm m-auto",children:[Object(d.jsx)(N,{openFilters:Z,setOpenFilters:$}),Object(d.jsx)(f,{setLimit:F,setCategory:E,setSearch:W,inputSearch:z,setIsLoading:x,setInputSearch:K,categories:H,setfromIndex:ne,settoIndex:le,setPageNum:me,numOfResults:5}),b?Object(d.jsx)(y,{}):Object(d.jsxs)(I.c,{children:[Object(d.jsx)(I.a,{exact:!0,path:"/",children:Object(d.jsx)(g,{jobs:s,pages:C,pagesCounter:p,fromIndex:se,setfromIndex:ne,toIndex:re,settoIndex:le,chunkedPages:be,setChunkedPages:ue,pageNum:xe,setPageNum:me,numOfResults:5})}),Object(d.jsx)(I.a,{exact:!0,path:"/JobDescription",component:k})]}),Object(d.jsx)("hr",{}),Object(d.jsx)(v,{})]})})};a.a.render(Object(d.jsx)(S,{}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.5af1f8a6.chunk.js.map